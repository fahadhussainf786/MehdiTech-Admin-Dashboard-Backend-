# from fastapi import FastAPI,APIRouter, HTTPException
# from fastapi import UploadFile, File, Form, Body
# from supabase import create_client
# import os
# from dotenv import load_dotenv

# load_dotenv()

# app = FastAPI()

# jobapply_router = APIRouter(prefix="/jobapply", tags=["jobapply"])

# supabase = create_client(
#     os.getenv("SUPABASE_URL"),
#     os.getenv("SUPABASE_SERVICE_ROLE_KEY")
# )
# #create job apply api
# @jobapply_router.post("/")
# async def apply_job(
#     job_id: str, data: dict = Body(...)
# ):
#     #check if job exist
#     job_check = supabase.table("jobs").select("id").eq("id", job_id).single().execute()
#     if not job_check.data:
#         raise HTTPException(status_code=404, detail="Job not found")
#     #Check if alredy applied
#     job_existing = supabase.table("jobs").select("job_id", job_id).single().execute()
#     if not job_existing.data:
#         raise HTTPException(status_code=404, detail="Job not exist")
    
#     resume = None
#     if resume:        
#             file_content = await resume.read()
#     #insert it into supabase
#     response = supabase.table("applications").insert({
#         "applicant_name": data["name"],
#         "user_email": data["email"],
#         "phone_number": data["number"],
#         "resume": data[]
#     })


